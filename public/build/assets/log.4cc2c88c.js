import{o,c as i,a as s,_ as L,h as f,k as b,w as j,l as B,g as m,n as P,m as S,p as K,T as V,S as F,q as E,s as U,u as N,x as $,y as W,z as G,A as q,B as R,C as X,D as Y,E as T,G as J,H as Q,I as Z,J as ee,r as p,K as te,L as H,b as y,e as O,F as w,d as v,t as c,f as se,i as k,M as re,N as ae,O as oe}from"./app.05379675.js";function le(e,l){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25L12 21m0 0l-3.75-3.75M12 21V3"})])}function ie(e,l){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75L12 3m0 0l3.75 3.75M12 3v18"})])}function ne(e,l){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function de(e,l){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function ce(e,l){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})])}function he(e,l){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"})])}function ue(e,l){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6l4.72-4.72a.75.75 0 011.28.531V19.94a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.506-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.395C2.806 8.757 3.63 8.25 4.51 8.25H6.75z"})])}const ge={name:"VueTailwindModal",props:{showing:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},size:{type:String,default:"sm"}},methods:{close(){this.$emit("update:showing",!1),this.$emit("close")}}},me={class:"fixed inset-0 z-50 overflow-y-auto"},fe={class:"flex items-start justify-center min-h-screen pt-4 px-4 pb-20"},ye={class:"fixed inset-0 transition-opacity","aria-hidden":"true"},be=s("svg",{class:"h-4 w-4 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),ke=[be],pe=s("svg",{class:"h-4 w-4 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),xe=[pe];function _e(e,l,a,u,r,n){return o(),f(V,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:b(()=>[j(s("div",me,[s("div",fe,[s("div",ye,[a.showClose?(o(),i("button",{key:0,"aria-label":"close",class:"absolute z-50 bg-white dark:bg-gray-800 rounded-full py-2 px-2 top-4 sm:top-3 right-4 sm:right-3 cursor-pointer focus:outline-none",onClick:l[0]||(l[0]=B(g=>n.close(),["prevent"]))},ke)):m("",!0),s("div",{class:"absolute inset-0 bg-gray-900 opacity-75",onClick:l[1]||(l[1]=B(g=>n.close(),["prevent"]))})]),s("div",{class:P(["m-0 sm:m-8 inline-block align-middle w-full bg-white dark:bg-gray-800 rounded-lg shadow-xl transform transition-all",a.size==="lg"?"max-w-6xl":a.size==="md"?"max-w-4xl":(a.size==="sm","max-w-2xl")])},[a.showClose?(o(),i("button",{key:0,"aria-label":"close",class:"block sm:hidden absolute z-50 bg-white dark:bg-gray-800 rounded-full py-2 px-2 top-4 sm:top-3 right-4 sm:right-3 cursor-pointer focus:outline-none",onClick:l[2]||(l[2]=B(g=>n.close(),["prevent"]))},xe)):m("",!0),S(e.$slots,"default")],2)])],512),[[K,a.showing]])]),_:3})}const we=L(ge,[["render",_e]]),ve={components:{SpinnerIcon:F,AdjustmentsVerticalIcon:E,TableCellsIcon:U,ChevronLeftIcon:N,ChevronRightIcon:$,SpeakerWaveIcon:he,ArrowPathIcon:W,PlusIcon:G,CheckIcon:q,PencilIcon:R,TrashIcon:X,XMarkIcon:Y,ArrowLeftIcon:T,PhotoIcon:J,CalendarDaysIcon:Q,UserIcon:Z,DocumentTextIcon:ee,SpeakerXMarkIcon:ue},props:{type:{type:String,default:"button"},title:{type:String,default:"Title"},loading:{type:Boolean,default:!1},icon:{type:String,default:"PencilIcon"},color:{type:String,default:"indigo"},addClass:{type:String,default:()=>null},iconSize:{type:String,default:"md"}},computed:{className(){let e=`
        py-2
        px-2
        text-sm
        font-medium
        rounded-md
        focus:outline-none
        focus:ring-2
        focus:ring-offset-2
      `;return this.color.substr(0,4)==="gray"?(e+=`
          ${this.color==="gray"?"":"bg-"+this.color}
          text-gray-700
          dark:text-gray-300
          border border-gray-300
          dark:border-gray-700
          hover:bg-gray-50
          dark:hover:bg-gray-700
          focus:ring-indigo-500
        `,this.loading?e+=`
            pl-4
            pr-0
            text-gray-500
            cursor-not-allowed
          `:e+=`
            text-gray-700
            dark:text-gray-300
          `):this.color==="transparent"?e+=`
          text-gray-700
          dark:text-gray-300
          bg-transparent
          focus:outline-none
        `:this.color==="light"?(e+=`
          bg-white
          dark:bg-gray-800
          text-gray-700
          dark:text-gray-300
          border border-gray-300
          dark:border-gray-700
          hover:bg-gray-50
          dark:hover:bg-gray-700
          focus:ring-indigo-500
        `,this.loading?e+=`
            pl-4
            pr-0
            text-gray-500
            cursor-not-allowed
          `:e+=`
            text-gray-700
            dark:text-gray-300
          `):(e+=`
          text-white
          border border-transparent
          focus:ring-${this.color}-500
        `,this.loading?e+=`
            pl-4
            pr-0
            bg-${this.color}-500
            hover:bg-${this.color}-500
            cursor-not-allowed
          `:e+=`
            bg-${this.color}-600
            hover:bg-${this.color}-700
          `),e+=" "+this.addClass,e}},methods:{handleClick(e){this.$emit("handleClick",e)}}},Pe=["type","title","disabled"];function Ce(e,l,a,u,r,n){const g=p("SpinnerIcon");return o(),i("button",{type:a.type,title:a.title,class:P(n.className),disabled:a.loading,onClick:l[0]||(l[0]=(...d)=>n.handleClick&&n.handleClick(...d))},[a.loading?(o(),f(g,{key:1,variant:a.color==="gray"?"text-indigo-500 dark:text-indigo-300":a.color==="light"?"text-gray-700":"text-white"},null,8,["variant"])):(o(),f(te(a.icon),{key:0,class:P(`${a.iconSize==="sm"?"w-4 h-4":a.iconSize==="md"?"w-5 h-5":""}`)},null,8,["class"]))],10,Pe)}const A=L(ve,[["render",Ce]]);const Ie={components:{BtnIcon:A,BtnWithIcon:H,MagnifyingGlassIcon:ce,ArrowLongUpIcon:ie,ArrowLongDownIcon:le,ChevronUpDownIcon:ne},props:{columns:{type:Array,default:()=>null},items:{type:Array,default:()=>null},loading:{type:Boolean,default:()=>null},mode:{type:String,default:"frontend"},ajaxFilter:{type:Object,default:()=>null},ajaxMeta:{type:Object,default:()=>null},showToggleView:{type:Boolean,default:!1},cardGrid:{type:Number,default:1},defaultPerPage:{type:Number,default:()=>null},hidePagination:{type:Boolean,default:()=>null},showSearch:{type:Boolean,default:!0},showPerPageButton:{type:Boolean,default:!0}},data(){return{filter:{sortKey:"",sortOrder:"",curPage:1,perPage:10,search:""},tableData:[],meta:{from:1,to:0,numPage:0,total:0},showPerPageMenu:!1,checkbox:[]}},computed:{firstPage(){let e=[1,2];return this.filter.curPage===2&&(e=[1,2,3]),e},curPage(){let e=[];return this.filter.curPage===3?e=[3,4,5]:this.filter.curPage>=4&&this.filter.curPage<=this.meta.numPage-3?e=[this.filter.curPage-1,this.filter.curPage,this.filter.curPage+1]:this.filter.curPage===this.meta.numPage-2&&(e=[this.filter.curPage-1,this.filter.curPage]),e},lastPage(){let e=[this.meta.numPage-1,this.meta.numPage];return this.filter.curPage===this.meta.numPage-1&&(e=[this.filter.curPage-1,this.filter.curPage,this.filter.curPage+1]),e}},watch:{items(e,l){this.loadTableData()},"filter.search"(e){this.mode==="frontend"&&(this.filter.curPage=1,this.checkbox=[],this.loadTableData())},"ajaxFilter.sortKey"(e){this.filter.sortKey=e},"ajaxFilter.sortOrder"(e){this.filter.sortOrder=e},"ajaxFilter.curPage"(e){this.filter.curPage=e},"ajaxFilter.perPage"(e){this.filter.perPage=e},"ajaxFilter.search"(e){this.filter.search=e},"ajaxMeta.from"(e){this.meta.from=e},"ajaxMeta.to"(e){this.meta.to=e},"ajaxMeta.numPage"(e){this.meta.numPage=e},"ajaxMeta.total"(e){this.meta.total=e},checkbox(e){this.$emit("handleCheckbox",e.length===1)}},mounted(){this.defaultPerPage&&(this.filter.perPage=this.defaultPerPage),this.items.length>0&&this.loadTableData(),this.mode==="ajax"&&this.ajaxFilter&&(this.filter={...this.ajaxFilter})},methods:{loadTableData(){if(this.mode==="frontend"){let e=[];if(this.items.forEach(r=>{e.push(r)}),this.filter.search&&this.items.length>0){const r=Object.keys(this.items[0]),n=[];e.forEach(g=>{let d=!1;r.forEach(x=>{d||(g[x]+"").toLowerCase().includes(this.filter.search)&&(n.push(g),d=!0)})}),e=n}if(this.filter.sortKey&&this.filter.sortOrder){const r=({key:n})=>(g,d)=>{let x=0,_=null,C=null;if(!n.includes("."))_=g[n],C=d[n];else{const M=n.split(".");let t=g,h=d;for(let I=0;I<M.length;I++){const D=M[I];t=t[D],h=h[D]}_=t,C=h}if(_>C&&(x=1),_<C&&(x=-1),this.filter.sortOrder==="desc")return x*-1;if(this.filter.sortOrder==="asc")return x};e=e.sort(r({key:this.filter.sortKey}))}let l=parseInt(this.items.length/this.filter.perPage)+1;this.items.length%this.filter.perPage===0&&(l=l-1);const a=(this.filter.curPage-1)*this.filter.perPage,u=a+this.filter.perPage>this.items.length?this.items.length:a+this.filter.perPage;e=e.splice(a,this.filter.perPage),this.meta.from=a+1,this.meta.to=u,this.meta.numPage=l,this.meta.total=this.items.length,this.tableData=e}else this.mode==="ajax"&&(this.tableData=this.items)},setSort(e){if(e.sortable&&this.items.length>0){const a=Object.keys(this.items[0]).includes(e.field)?e.field:e.struct;this.filter.sortKey=a,this.filter.sortOrder=this.filter.sortOrder?this.filter.sortOrder==="desc"?"asc":"desc":"asc",this.mode==="frontend"?this.loadTableData():this.mode==="ajax"&&this.$emit("setFilter",this.filter)}},setPage(e){if(this.filter.curPage===e||e<1||e>this.meta.numPage)return!1;this.filter.curPage=e,this.mode==="frontend"?this.loadTableData():this.mode==="ajax"&&(this.filter.sortKey||(this.filter.sortKey="created_at"),this.filter.sortOrder||(this.filter.sortOrder="desc"),this.$emit("setFilter",this.filter))},setSearch(e){e.preventDefault(),this.mode==="ajax"&&(this.filter.curPage=1,this.checkbox=[],this.filter.sortKey||(this.filter.sortKey="created_at"),this.filter.sortOrder||(this.filter.sortOrder="desc"),this.$emit("setFilter",this.filter))},setPerPage(e){this.showPerPageMenu=!1,this.filter.perPage=e,this.checkbox=[],this.filter.sortKey||(this.filter.sortKey="created_at"),this.filter.sortOrder||(this.filter.sortOrder="desc"),this.mode==="frontend"?this.loadTableData():this.mode==="ajax"&&this.$emit("setFilter",this.filter)}}},z=e=>(re("data-v-32cf2576"),e=e(),ae(),e),Se={class:"py-3 sm:flex items-center justify-between px-4"},Me={class:"flex"},Le={key:0,class:"my-1 flex flex-1 rounded-md"},De={class:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-500 dark:text-gray-300 text-sm"},je={class:"my-1 relative"},Be=["onClick"],Te={key:1,class:"mt-1"},He={class:"mt-1"},Oe={class:"mt-1 sm:mt-0"},Ae={key:0,class:"overflow-x-auto overflow-hidden border-b border-t border-gray-200 dark:border-gray-700"},ze={class:"table-sm"},Ke={class:"thead"},Ve=["onClick"],Fe={key:1},Ee={key:2,class:"absolute right-0"},Ue={key:0,class:"tbody"},Ne={key:1,class:"tbody"},$e=["colspan"],We={key:1,class:"py-3 flex items-center justify-between px-4"},Ge={class:"flex-1 flex justify-between sm:hidden"},qe={key:0,class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Re={class:"text-sm text-gray-700 dark:text-gray-300"},Xe={class:"font-medium"},Ye={class:"font-medium"},Je={class:"font-medium"},Qe={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Ze={key:0},et=["onClick"],tt={key:1},st=["onClick"],rt={key:0,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-300"},at=["onClick"],ot=z(()=>s("span",{class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-300"}," ... ",-1)),lt=["onClick"],it={key:2,class:"overflow-x-auto overflow-hidden sm:rounded-lg shadow border-b border-gray-200 dark:border-gray-700"},nt={class:"table"},dt={class:"thead"},ct=["onClick"],ht={key:0,class:"absolute right-0"},ut={class:"tbody"},gt=["colspan"],mt=z(()=>s("div",{class:"spinner-container"},[s("div",{class:"spinner"})],-1)),ft=[mt];function yt(e,l,a,u,r,n){const g=p("MagnifyingGlassIcon"),d=p("BtnIcon"),x=p("ArrowLongUpIcon"),_=p("ArrowLongDownIcon"),C=p("ChevronUpDownIcon"),M=p("BtnWithIcon");return o(),i("div",null,[s("div",Se,[s("div",Me,[a.showSearch?(o(),i("div",Le,[s("span",De,[y(g,{class:"w-5 h-5"})]),a.showSearch?(o(),i("form",{key:0,action:"",method:"",class:"w-full",onSubmit:l[1]||(l[1]=(...t)=>n.setSearch&&n.setSearch(...t))},[j(s("input",{id:"search","onUpdate:modelValue":l[0]||(l[0]=t=>r.filter.search=t),type:"text",class:"text-sm px-4 py-2 focus:ring-indigo-500 focus:border-indigo-500 w-full flex-1 block rounded-none rounded-r-md border border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300",placeholder:"Search"},null,512),[[O,r.filter.search]])],32)):m("",!0)])):m("",!0),s("div",je,[s("div",null,[!a.hidePagination&&a.showPerPageButton?(o(),f(d,{key:0,type:"button",title:"Tampilkan Per Halaman",color:"gray",icon:"AdjustmentsVerticalIcon","icon-size":"md","add-class":"ml-2",onHandleClick:l[2]||(l[2]=t=>r.showPerPageMenu=!r.showPerPageMenu)})):m("",!0)]),s("div",{class:P(["absolute z-40 right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none",r.showPerPageMenu?"":"hidden"])},[(o(),i(w,null,v([5,10,20,50,100,1e3],t=>s("button",{key:"per-"+t,type:"button",class:"block bg-white dark:bg-gray-800 w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300",onClick:h=>n.setPerPage(t)}," Tampilkan tiap "+c(t)+" data ",9,Be)),64))],2)]),a.showToggleView?(o(),i("div",Te,[y(d,{type:"button",title:"Mode View",color:"gray",icon:"TableCellsIcon","icon-size":"md","add-class":"ml-2",onHandleClick:e.setViewMode},null,8,["onHandleClick"])])):m("",!0),s("div",He,[S(e.$slots,"checkbox_action",{},void 0,!0)])]),s("div",Oe,[S(e.$slots,"table-action",{},void 0,!0)])]),s("div",null,[S(e.$slots,"table-alert",{},void 0,!0)]),a.loading?m("",!0):(o(),i("div",Ae,[s("table",ze,[s("thead",Ke,[s("tr",null,[(o(!0),i(w,null,v(a.columns,t=>(o(),i("th",{key:t.field,scope:"col",class:P(["th",t.sortable?"relative cursor-pointer":""]),onClick:h=>n.setSort(t)},[t.field==="checkbox"?j((o(),i("input",{key:0,"onUpdate:modelValue":l[3]||(l[3]=h=>r.checkbox=h),value:1,type:"checkbox",class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded cursor-pointer"},null,512)),[[se,r.checkbox]]):(o(),i("span",Fe,[S(e.$slots,`th-${t.field}`,{},()=>[k(c(t.label),1)],!0)])),t.sortable?(o(),i("span",Ee,[r.filter.sortKey===t.field&&r.filter.sortOrder==="asc"?(o(),f(x,{key:0,class:"w-5 h-5 dark:text-gray-200"})):r.filter.sortKey===t.struct&&r.filter.sortOrder==="asc"?(o(),f(x,{key:1,class:"w-5 h-5 dark:text-gray-200"})):r.filter.sortKey===t.field&&r.filter.sortOrder==="desc"?(o(),f(_,{key:2,class:"w-5 h-5 dark:text-gray-200"})):r.filter.sortKey===t.struct&&r.filter.sortOrder==="desc"?(o(),f(_,{key:3,class:"w-5 h-5 dark:text-gray-200"})):(o(),f(C,{key:4,class:"w-5 h-5"}))])):m("",!0)],10,Ve))),128))])]),r.tableData.length>0?(o(),i("tbody",Ue,[(o(!0),i(w,null,v(r.tableData,(t,h)=>(o(),i("tr",{key:"row-"+h},[(o(!0),i(w,null,v(a.columns,(I,D)=>(o(),i("td",{key:"rd-"+D,class:"td"},[S(e.$slots,I.field,{row:t,index:h,nomor:h+r.meta.from},()=>[k(c(t[I.field]),1)],!0)]))),128))]))),128))])):(o(),i("tbody",Ne,[s("tr",null,[s("td",{colspan:a.columns.length,class:"text-center px-6 py-4 dark:text-gray-300"}," Tidak ada data ",8,$e)])]))])])),!a.loading&&!a.hidePagination?(o(),i("div",We,[s("div",Ge,[y(M,{color:"light","add-class":"inline-flex",onHandleClick:l[4]||(l[4]=t=>n.setPage(r.filter.curPage-1>0?r.filter.curPage-1:1))},{default:b(()=>[k(" Sebelum ")]),_:1}),y(M,{color:"light","add-class":"inline-flex ml-3",onHandleClick:l[5]||(l[5]=t=>n.setPage(r.filter.curPage+1>r.meta.numPage?r.meta.numPage:r.filter.curPage+1))},{default:b(()=>[k(" Selanjutnya ")]),_:1})]),a.hidePagination?m("",!0):(o(),i("div",qe,[s("div",null,[s("p",Re,[k(" Menampilkan "+c(" ")+" "),s("span",Xe,c(r.meta.from),1),k(" "+c(" ")+" sampai "+c(" ")+" "),s("span",Ye,c(r.meta.to),1),k(" "+c(" ")+" dari "+c(" ")+" "),s("span",Je,c(r.meta.total),1),k(" "+c(" ")+" data ")])]),s("div",null,[s("nav",Qe,[y(d,{color:"light",icon:"ChevronLeftIcon","add-class":"rounded-none rounded-l-md",onHandleClick:l[6]||(l[6]=t=>n.setPage(r.filter.curPage-1>0?r.filter.curPage-1:1))}),r.meta.numPage<=5?(o(),i("div",Ze,[(o(!0),i(w,null,v(r.meta.numPage,t=>(o(),i("button",{key:"pg-"+t,type:"button",class:P(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",t===r.filter.curPage?"z-10 bg-indigo-50 dark:bg-gray-900 border-indigo-500 dark:border-gray-700 text-indigo-600 dark:text-gray-300":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"]),onClick:h=>n.setPage(t)},c(t),11,et))),128))])):(o(),i("div",tt,[(o(!0),i(w,null,v(n.firstPage,t=>(o(),i("button",{key:"pg-"+t,type:"button",class:P(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",t===r.filter.curPage?"z-10 bg-indigo-50 dark:bg-gray-900 border-indigo-500 dark:border-gray-700 text-indigo-600 dark:text-gray-300":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"]),onClick:h=>n.setPage(t)},c(t),11,st))),128)),n.curPage.length!==0?(o(),i("span",rt," ... ")):m("",!0),(o(!0),i(w,null,v(n.curPage,t=>(o(),i("button",{key:"pg-"+t,type:"button",class:P(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",t===r.filter.curPage?"z-10 bg-indigo-50 dark:bg-gray-900 border-indigo-500 dark:border-gray-700 text-indigo-600 dark:text-gray-300":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"]),onClick:h=>n.setPage(t)},c(t),11,at))),128)),ot,(o(!0),i(w,null,v(n.lastPage,t=>(o(),i("button",{key:"pg-"+t,type:"button",class:P(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",t===r.filter.curPage?"z-10 bg-indigo-50 dark:bg-gray-900 border-indigo-500 dark:border-gray-700 text-indigo-600 dark:text-gray-300":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-700 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"]),onClick:h=>n.setPage(t)},c(t),11,lt))),128))])),y(d,{color:"light",icon:"ChevronRightIcon","add-class":"rounded-none rounded-r-md",onHandleClick:l[7]||(l[7]=t=>n.setPage(r.filter.curPage+1>r.meta.numPage?r.meta.numPage:r.filter.curPage+1))})])])]))])):m("",!0),a.loading?(o(),i("div",it,[s("table",nt,[s("thead",dt,[s("tr",null,[(o(!0),i(w,null,v(a.columns,t=>(o(),i("th",{key:t.field,scope:"col",class:P(["th",t.sortable?"relative cursor-pointer":""]),onClick:h=>n.setSort(t)},[k(c(t.label)+" ",1),t.sortable?(o(),i("span",ht,[r.filter.sortKey===t.field&&r.filter.sortOrder==="asc"?(o(),f(_,{key:0,class:"w-5 h-5"})):r.filter.sortKey===t.field&&r.filter.sortOrder==="desc"?(o(),f(x,{key:1,class:"w-5 h-5"})):(o(),f(C,{key:2,class:"w-5 h-5"}))])):m("",!0)],10,ct))),128))])]),s("tbody",ut,[s("tr",null,[s("td",{colspan:a.columns.length,class:"td text-center"},ft,8,gt)])])])])):m("",!0)])}const bt=L(Ie,[["render",yt],["__scopeId","data-v-32cf2576"]]),kt={components:{ModalComp:we,TableComp:bt,BtnWithIcon:H,BtnIcon:A,ArrowLeftIcon:T,ExclamationTriangleIcon:de},props:{columns:{type:Array,default:[{label:"ID",field:"id",sortable:!0},{label:"Nama",field:"nama"},{label:"Kode",field:"kode"},{label:"Aksi",field:"aksi"}]},setting:{type:Object,default:{name:"",title:"Master Data",desc:"Master Data"}},groupMenuId:{type:String,default:""},dataForm:{type:Array,default:[{type:"text",label:"Nama",model:"nama",slug:"nama"},{type:"text",label:"Kode",model:"kode",slug:"kode"}]},hakAkses:{type:Array,default:["lihat","tambah","edit","hapus"]},tableSlot:{type:Array,default:[]}},data(){return{items:[],tableLoading:!1,modal:!1,modalHapus:!1,aksi:"tambah",submitLoading:!1,form:{},show:{},filter:{}}},mounted(){this.loadData(),this.dataForm.forEach(e=>{this.form[e.model]="","onChange"in e&&this.$watch("form."+e.model,function(l,a){this.$emit("formOnChange",{func:e.onChange,params:{value:l,show:this.show}})})})},methods:{loadData(){this.tableLoading=!0,this.$emit("setLoading",!0);let e=this.$store.dispatch(`fetch${this.setting.name.replace(/ /g,"")}`);this.filter&&(e=this.$store.dispatch(`fetch${this.setting.name.replace(/ /g,"")}`,this.filter)),e.then(l=>{this.tableLoading=!1,this.$emit("setLoading",!1),l.data.status?this.items=l.data.data:alert(l.data.message)}).catch(()=>{this.tableLoading=!1,this.$emit("setLoading",!1),alert("error")})},resetForm(){Object.keys(this.form).forEach(e=>{this.form[e]=""}),this.show={}},onSubmit(e){e.preventDefault();const l=`${this.aksi==="tambah"?"add":this.aksi==="edit"?"update":"delete"}${this.setting.name.replace(/ /g,"")}`;let a=null;["tambah","edit"].includes(this.aksi)&&(a=new FormData,this.dataForm.forEach(u=>{"notSend"in u||(["text","number"].includes(u.type)?a.append(u.model,this.form[u.model]):u.type==="v-select"&&u.vSelectValue.forEach(r=>{a.append(r.as,this.form[u.model][r.key])}))})),this.aksi==="edit"?(a.append("_method","PUT"),a={id:this.show.id,form:a}):this.aksi==="hapus"&&(a=this.show.id),this.submitLoading=!0,this.$store.dispatch(l,a).then(u=>{this.submitLoading=!1,u.data.status?(this.closeModal(),this.loadData()):alert(u.data.message)}).catch(()=>{this.submitLoading=!1,alert("error")}),this.closeModal()},tambah(){this.resetForm(),this.aksi="tambah",this.modal=!0},edit(e){this.aksi="edit",this.show=e,this.dataForm.forEach(l=>{if(["text","number"].includes(l.type))this.form[l.model]=e[l.model];else if(l.type==="v-select"){const a=l.vSelectValue.find(u=>u.type==="pk");this.form[l.model]=l.vSelectOptions.find(u=>parseInt(u[a.key])===parseInt(e[l.model]))}}),this.modal=!0},hapus(e){this.aksi="hapus",this.show=e,this.modalHapus=!0},closeModal(){this.resetForm(),this.aksi="tambah",this.modal=!1,this.modalHapus=!1},manuallySetForm(e){this.form[e.key]=e.value},setFilterAndLoadData(e){this.filter=e,this.loadData()}}},pt={class:"text-2xl my-4 font-bold text-brand-500 dark:text-gray-300"},xt={class:"text-gray-500"},_t={class:"mt-8 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg"},wt={class:"flex"},vt={class:"flex"},Pt={class:"bg-white dark:bg-gray-900 shadow rounded-lg"},Ct={class:"px-4 py-5 sm:px-6"},It={class:"text-lg leading-6 dark:text-gray-300 font-medium"},St={class:"mt-1 max-w-2xl text-sm text-gray-500"},Mt={class:"border-t border-gray-200 dark:border-gray-800"},Lt={class:"shadow sm:rounded-md"},Dt=["for"],jt=["id","onUpdate:modelValue"],Bt={class:"px-4 py-3 text-right sm:px-6"},Tt={class:"bg-white dark:bg-gray-900 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 rounded-lg"},Ht={class:"sm:flex sm:items-start"},Ot={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900 sm:mx-0 sm:h-10 sm:w-10"},At={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},zt=s("h3",{class:"text-lg leading-6 font-medium text-gray-900 dark:text-gray-300"}," Hapus Data ",-1),Kt={class:"mt-2"},Vt={class:"text-sm text-gray-500"},Ft={class:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"};function Et(e,l,a,u,r,n){const g=p("BtnWithIcon"),d=p("BtnIcon"),x=p("TableComp"),_=p("v-select"),C=p("ModalComp"),M=p("ExclamationTriangleIcon");return o(),i("div",null,[s("div",null,[y(g,{title:"Kembali",icon:"ArrowLeftIcon",color:"light",onHandleClick:l[0]||(l[0]=t=>e.$router.push({path:"/spa/home",query:{menu:a.groupMenuId}}))},{default:b(()=>[k(" Kembali ")]),_:1}),s("h2",pt,c(a.setting.title),1),s("p",xt,c(a.setting.desc),1)]),S(e.$slots,"filter"),s("div",_t,[y(x,{columns:a.columns,items:r.items,loading:r.tableLoading},oe({"table-action":b(()=>[s("div",wt,[a.hakAkses.includes("tambah")?(o(),f(g,{key:0,title:"Tambah",icon:"PlusIcon","icon-size":"md","add-class":"flex-1 sm:flex-none",onHandleClick:n.tambah},{default:b(()=>[k(" Tambah ")]),_:1},8,["onHandleClick"])):m("",!0),y(d,{type:"button",title:"Refresh",color:"gray",icon:"ArrowPathIcon","icon-size":"md","add-class":"ml-2",onHandleClick:n.loadData},null,8,["onHandleClick"])])]),aksi:b(({row:t})=>[s("div",vt,[a.hakAkses.includes("edit")?(o(),f(d,{key:0,type:"button",title:"Edit",color:"brand",icon:"PencilIcon","icon-size":"sm","add-class":"ml-2",onHandleClick:h=>n.edit(t)},null,8,["onHandleClick"])):m("",!0),a.hakAkses.includes("hapus")?(o(),f(d,{key:1,type:"button",title:"Edit",color:"red",icon:"TrashIcon","icon-size":"sm","add-class":"ml-2",onHandleClick:h=>n.hapus(t)},null,8,["onHandleClick"])):m("",!0)])]),_:2},[v(a.tableSlot,t=>({name:t,fn:b(({row:h})=>[S(e.$slots,"table_col_"+t,{row:h})])}))]),1032,["columns","items","loading"])]),y(C,{showing:r.modal,"show-close":!0,onClose:n.closeModal},{default:b(()=>[s("div",Pt,[s("div",Ct,[s("h3",It,c(r.aksi==="tambah"?"Tambah":r.aksi==="edit"?"Edit":"")+" "+c(a.setting.name),1),s("p",St,c(a.setting.desc),1)]),s("div",Mt,[s("form",{action:"#",method:"POST",onSubmit:l[1]||(l[1]=(...t)=>n.onSubmit&&n.onSubmit(...t))},[s("div",Lt,[(o(!0),i(w,null,v(a.dataForm,(t,h)=>(o(),i("div",{key:h,class:"p-4"},[s("label",{for:`form-${t.slug}`,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},c(t.label),9,Dt),t.type==="text"?j((o(),i("input",{key:0,id:`form-${t.slug}`,"onUpdate:modelValue":I=>r.form[t.model]=I,type:"text",class:"t-form mt-2",required:"",minlength:"1",maxlength:"255"},null,8,jt)),[[O,r.form[t.model]]]):m("",!0),t.type==="v-select"?(o(),f(_,{key:1,id:`form-${t.slug}`,modelValue:r.form[t.model],"onUpdate:modelValue":I=>r.form[t.model]=I,options:t.vSelectOptions,label:t.vSelectLabel,clearable:!1,loading:t.vSelectLoading},null,8,["id","modelValue","onUpdate:modelValue","options","label","loading"])):m("",!0)]))),128)),s("div",Bt,[y(g,{type:"submit",title:"Simpan",color:"brand",loading:r.submitLoading,icon:"CheckIcon","add-class":"inline-flex w-full sm:w-auto"},{default:b(()=>[k(" Simpan ")]),_:1},8,["loading"])])])],32)])])]),_:1},8,["showing","onClose"]),y(C,{showing:r.modalHapus,"show-close":!0,onClose:n.closeModal},{default:b(()=>[s("div",Tt,[s("div",Ht,[s("div",Ot,[y(M,{class:"text-red-600 dark:text-red-300 h-5 w-5"})]),s("div",At,[zt,s("div",Kt,[s("p",Vt," Yakin ingin menghapus "+c(a.setting.name.toLowerCase())+" "+c(r.show.nama||"")+"? Data yang sudah dihapus tidak dapat dikembalikan ",1)])])])]),s("div",Ft,[s("form",{action:"",method:"DELETE",onSubmit:l[2]||(l[2]=(...t)=>n.onSubmit&&n.onSubmit(...t))},[y(g,{type:"submit",title:"Hapus",color:"red",icon:"CheckIcon",loading:r.submitLoading,"add-class":" inline-flex w-full sm:w-auto "},{default:b(()=>[k(" Ya, Hapus ")]),_:1},8,["loading"])],32),y(g,{type:"button",title:"Batal",color:"gray",icon:"XMarkIcon","add-class":" inline-flex w-full sm:w-auto mr-2 mt-2 sm:mt-0",onHandleClick:n.closeModal},{default:b(()=>[k(" Batal ")]),_:1},8,["onHandleClick"])])]),_:1},8,["showing","onClose"])])}const Ut=L(kt,[["render",Et]]),Nt={components:{CrudBasic:Ut}},$t=s("div",{class:"pt-8"},null,-1);function Wt(e,l,a,u,r,n){const g=p("CrudBasic");return o(),i(w,null,[$t,y(g,{setting:{name:"Log",title:"Master Data Log",desc:"Master Data Log"},columns:[{label:"ID",field:"id",sortable:!0},{label:"Nama",field:"nama_user",sortable:!0},{label:"Aksi",field:"aksi",sortable:!0},{label:"Tabel",field:"nama_tabel",sortable:!0},{label:"Keterangan",field:"keterangan",sortable:!0},{label:"Tanggal",field:"created_at",sortable:!0}],"table-slot":["aksi","created_at"],"hak-akses":["lihat"]},{table_col_aksi:b(({row:d})=>[s("span",{class:P(`
          px-2 py-1
          font-medium
          text-white
          text-xs
          uppercase
          ${d.aksi==1?"bg-green-500":d.aksi==2?"bg-brand-500":d.aksi==3?"bg-orange-500":d.aksi==4?"bg-red-500":""}
        `)},c(d.aksi==1?"create":d.aksi==2?"read":d.aksi==3?"update":d.aksi==4?"delete":""),3)]),table_col_created_at:b(({row:d})=>[k(c(new Date(d.created_at).toLocaleString("id-ID",{dateStyle:"long",timeStyle:"long"})),1)]),_:1})],64)}const qt=L(Nt,[["render",Wt]]);export{qt as default};
